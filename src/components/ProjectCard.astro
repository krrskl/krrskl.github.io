---
import type { Project } from "../utils/profile";

interface Props {
	project: Project;
}

const { project } = Astro.props;
---

<article class="project-card">
	<a
		href={project.url}
		target="_blank"
		rel="noopener noreferrer"
		class="project-link"
	>
		<div class="project-image">
			<img
				src={project.image}
				alt={project.name}
				loading="lazy"
				decoding="async"
			>
		</div>
		<div class="project-content">
			<h3 class="project-title">{project.name}</h3>
			<p class="project-description">{project.description}</p>
			<div class="project-technologies">
				{project.technologies.slice(0, 2).map((tech) => <span class="tech-badge">{tech}</span>)}
				{project.technologies.length > 2 && (
					<span class="tech-badge tech-more">+{project.technologies.length - 2}</span>
				)}
			</div>
		</div>
	</a>
</article>

<style>
.project-card {
	flex-shrink: 0;
	width: 350px;
	height: 150px;
	background: var(--card-bg);
	border-radius: 16px;
	overflow: hidden;
	transition:
		transform 0.3s ease,
		box-shadow 0.3s ease;
	border: 1px solid var(--border-color, rgba(255, 255, 255, 0.1));
}

.project-card:hover {
	transform: translateY(-4px);
	box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
}

.project-link {
	display: flex;
	flex-direction: row;
	height: 100%;
	text-decoration: none;
	color: inherit;
}

.project-image {
	width: 150px;
	min-width: 150px;
	height: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--card-image-bg);
	overflow: hidden;
}

.project-image img {
	width: 100%;
	height: 100%;
	object-fit: cover;
}

.project-content {
	flex: 1;
	padding: 0.875rem 1rem;
	display: flex;
	flex-direction: column;
	justify-content: center;
	gap: 0.375rem;
	overflow: hidden;
}

.project-title {
	font-size: 0.95rem;
	font-weight: 600;
	color: var(--text-primary, #fff);
	margin: 0;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.project-description {
	font-size: 0.8rem;
	color: var(--text-secondary, rgba(255, 255, 255, 0.7));
	margin: 0;
	line-height: 1.3;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

.project-technologies {
	display: flex;
	flex-wrap: nowrap;
	gap: 0.35rem;
	overflow: hidden;
}

.tech-badge {
	font-size: 0.65rem;
	padding: 0.15rem 0.45rem;
	background: var(--badge-bg, rgba(99, 102, 241, 0.2));
	color: var(--badge-color, #a5b4fc);
	border-radius: 9999px;
	white-space: nowrap;
}

.tech-more {
	background: var(--badge-more-bg, rgba(255, 255, 255, 0.1));
	color: var(--text-secondary, rgba(255, 255, 255, 0.6));
}
</style>
